@model BlogIT.Models.ReportsViewModel

@{
    ViewBag.Title = "Quản Lý Báo Cáo";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<div class="container mt-5">
    <h2 class="text-center">Quản Lý Báo Cáo</h2>

    @if (TempData["mess"] != null)
    {
        <div class="alert alert-info alert-dismissible fade show" role="alert">
            @Html.Raw(TempData["mess"].ToString())
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    }

    <!-- Báo Cáo Bài Viết -->
    <h3>Báo Cáo Bài Viết</h3>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>ID</th>
                <th>Bài Viết</th>
                <th>Người Báo Cáo</th>
                <th>Lý Do</th>
                <th>Ngày Báo Cáo</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var report in ViewBag.BlogReports)
            {
                <tr>
                    <td>@report.ReportID</td>
                    <td>@report.BlogPost.Title</td>
                    <td>@report.User.FullName</td>
                    <td>@report.Reason</td>
                    <td>@report.ReportedAt.ToString("dd/MM/yyyy")</td>
                </tr>
            }
        </tbody>
    </table>
    <nav>
        <ul class="pagination justify-content-center">
            @for (int i = 1; i <= ViewBag.TotalBlogPages; i++)
            {
                <li class="page-item @(i == ViewBag.CurrentBlogPage ? "active" : "")">
                    <a class="page-link" href="@Url.Action("ManageReports", new { blogPage = i })">@i</a>
                </li>
            }
        </ul>
    </nav>

    <!-- Báo Cáo Bình Luận -->
    <h3>Báo Cáo Bình Luận</h3>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>ID</th>
                <th>Bình Luận</th>
                <th>Người Báo Cáo</th>
                <th>Lý Do</th>
                <th>Ngày Báo Cáo</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var report in ViewBag.CommentReports)
            {
                <tr>
                    <td>@report.ReportID</td>
                    <td>@report.Comment.Content</td>
                    <td>@report.User.FullName</td>
                    <td>@report.Reason</td>
                    <td>@report.ReportedAt.ToString("dd/MM/yyyy")</td>
                </tr>
            }
        </tbody>
    </table>
    <nav>
        <ul class="pagination justify-content-center">
            @for (int i = 1; i <= ViewBag.TotalCommentPages; i++)
            {
                <li class="page-item @(i == ViewBag.CurrentCommentPage ? "active" : "")">
                    <a class="page-link" href="@Url.Action("ManageReports", new { commentPage = i })">@i</a>
                </li>
            }
        </ul>
    </nav>

    <!-- Báo Cáo Bình Luận Phản Hồi -->
    <h3>Báo Cáo Bình Luận Phản Hồi</h3>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>ID</th>
                <th>Bình Luận Phản Hồi</th>
                <th>Người Báo Cáo</th>
                <th>Lý Do</th>
                <th>Ngày Báo Cáo</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var report in ViewBag.CommentReplyReports)
            {
                <tr>
                    <td>@report.ReportID</td>
                    <td>@report.CommentReply.Content</td>
                    <td>@report.User.FullName</td>
                    <td>@report.Reason</td>
                    <td>@report.ReportedAt.ToString("dd/MM/yyyy")</td>
                </tr>
            }
        </tbody>
    </table>
    <nav>
        <ul class="pagination justify-content-center">
            @for (int i = 1; i <= ViewBag.TotalCommentReplyPages; i++)
            {
                <li class="page-item @(i == ViewBag.CurrentReplyPage ? "active" : "")">
                    <a class="page-link" href="@Url.Action("ManageReports", new { replyPage = i })">@i</a>
                </li>
            }
        </ul>
    </nav>

    <!-- Báo Cáo Người Dùng -->
    <h3>Báo Cáo Người Dùng</h3>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>ID</th>
                <th>Người Dùng Bị Báo Cáo</th>
                <th>Người Báo Cáo</th>
                <th>Lý Do</th>
                <th>Ngày Báo Cáo</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var report in ViewBag.UserReports)
            {
                <tr>
                    <td>@report.ReportID</td>
                    <td>@report.User1.FullName</td>
                    <td>@report.User.FullName</td>
                    <td>@report.Reason</td>
                    <td>@report.ReportedAt.ToString("dd/MM/yyyy")</td>
                </tr>
            }
        </tbody>
    </table>
    <nav>
        <ul class="pagination justify-content-center">
            @for (int i = 1; i <= ViewBag.TotalUserPages; i++)
            {
                <li class="page-item @(i == ViewBag.CurrentUserPage ? "active" : "")">
                    <a class="page-link" href="@Url.Action("ManageReports", new { userPage = i })">@i</a>
                </li>
            }
        </ul>
    </nav>
</div>
